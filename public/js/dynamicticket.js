!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({0:function(e,t,n){n("b/UH"),e.exports=n("LG8y")},LG8y:function(e,t){},"b/UH":function(e,t){var n={input:[]},o=new Array;window.recursiveSortable=function(){document.getElementById("sortable").innerHTML="";var e=n.input;if(null!=e)for(var t=0;t<e.length;t++)parseSortable(e[t],t)},window.parseSortable=function(e,t){var n;(n=document.createElement("div")).setAttribute("class","list-item"),n.setAttribute("data-id",t),n.setAttribute("data-item-sortable-id",0),n.setAttribute("draggable",!0),n.setAttribute("role","option"),n.setAttribute("aria-grabbed",!1),n.innerHTML='<div class="flex">'+e.name+'</div><div class="no-wrap"><div class="text-muted d-none d-md-block">'+e.type+'</div></div><div><div class="item-action dropdown"><a href="#" data-toggle="dropdown" class="text-muted" data-abc="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg></a><div class="dropdown-menu dropdown-menu-right bg-black" role="menu"><a class="dropdown-item edit" data-abc="true" onclick="editComponent('+t+')">Edit</a><div class="dropdown-divider"></div><a class="dropdown-item trash" data-abc="true" onclick="deleteComponent('+t+')">Delete item</a></div></div></div>',document.getElementById("sortable").appendChild(n)},window.addComponent=function(){var e=document.getElementById("componentName").value,t=document.getElementById("componentType").value,o=n.input;o.push({name:e,type:t}),$.when(saveInput()).done((function(e){e>0?(recursiveSortable(),recursiveInput()):(o.pop(),alert("Add Component Fail"))}))},window.deleteComponent=function(e){},window.editComponent=function(e){var t=n.input[e];document.getElementById("componentName").value=t.name,document.getElementById("componentType").value=t.type,"label"in t&&(document.getElementById("componentLabel").value=t.label),document.getElementById("componentLabel").disabled=!1,"placeholder"in t&&(document.getElementById("componentPlaceholder").value=t.placeholder),document.getElementById("componentPlaceholder").disabled=!1,document.getElementById("myButton").innerHTML="Save",document.getElementById("myButton").onclick=function(){updateComponent(e)},document.getElementById("myButton").classList.add("btn-success"),document.getElementById("myButton").classList.remove("btn-primary"),sortableDisable()},window.updateComponent=function(e){var t=n.input[e],o=JSON.parse(JSON.stringify(n.input[e]));t.name=document.getElementById("componentName").value,t.type=document.getElementById("componentType").value,""!=document.getElementById("componentLabel").value&&(t.label=document.getElementById("componentLabel").value),""!=document.getElementById("componentPlaceholder").value&&(t.placeholder=document.getElementById("componentPlaceholder").value),$.when(saveInput()).done((function(t){t>0?(recursiveSortable(),recursiveInput()):(n.input[e]=o,alert("Save Component Fail"))})),resetComponentInput()},window.resetComponentInput=function(){document.getElementById("componentName").value="",document.getElementById("componentType").value="text",document.getElementById("componentLabel").value="",document.getElementById("componentLabel").disabled=!0,document.getElementById("componentClass").select2("val",""),document.getElementById("componentClass").disabled=!0,document.getElementById("componentPlaceholder").value="",document.getElementById("componentPlaceholder").disabled=!0,document.getElementById("myButton").innerHTML="Add",document.getElementById("myButton").onclick=function(){addComponent()},document.getElementById("myButton").classList.add("btn-primary"),document.getElementById("myButton").classList.remove("btn-success"),sortableEnable()},window.saveInput=function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":jQuery('meta[name="csrf-token"]').attr("content")}});var e={input_field:JSON.stringify(n),id:$("#categorySelection").select2("val")};return $.ajax({type:"POST",url:"/dynamicticket/saveinput",data:e,dataType:"json"})},window.sortableEnable=function(){return $("#sortable").sortable({start:function(e,t){$(this).attr("data-previndex",t.item.index())},update:function(e,t){var n=t.item.index(),o=$(this).attr("data-previndex");$(this).removeAttr("data-previndex"),insertAndShift(o,n)}}),$("#sortable").sortable("option","disabled",!1),$("#sortable").disableSelection(),!1},window.sortableDisable=function(){return $("#sortable").sortable("disable"),!1},window.insertAndShift=function(e,t){var o=n.input.splice(e,1)[0];n.input.splice(t,0,o),recursiveInput()},window.getInputParameters=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$.ajaxSetup({headers:{"X-CSRF-TOKEN":jQuery('meta[name="csrf-token"]').attr("content")}});var t={category_id:document.getElementById("categorySelection").value};$.ajax({type:"POST",url:"/dynamicticket/getinput",data:t,dataType:"json",success:function(t){n=t,o=new Array,recursiveInput(),"designer"==e&&recursiveSortable()},error:function(e){console.log(e)}})},window.parseInput=function(e,t,n,a){var l,r,d,i,c;switch(e.type){case"email":case"password":case"text":(l=document.createElement("div")).setAttribute("class","form-group row"),(i=document.createElement("label")).setAttribute("for",e.name),i.setAttribute("class","col-sm-2 col-form-label"),void 0!==e.label?i.innerHTML=e.label:i.innerHTML=e.name,l.appendChild(i),r=document.createElement("div"),l.appendChild(r),(c=document.createElement("input")).setAttribute("id",e.name),c.type=e.type,void 0!==e.class?(r.setAttribute("class",e.class),c.setAttribute("class","col")):r.setAttribute("class","col-sm-10"),void 0!==e.placeholder&&c.setAttribute("placeholder",e.placeholder),r.appendChild(c),document.getElementById(a).appendChild(l),o.push(e.name);break;case"checkbox":case"radio":var s=document.createElement("fieldset");s.setAttribute("class","form-group"),(d=document.createElement("div")).setAttribute("class","row"),s.appendChild(d);var u=document.createElement("label");u.setAttribute("class","col-sm-2 col-form-label pt-0"),void 0!==e.label?u.innerHTML=e.label:u.innerHTML=e.name,d.appendChild(u),r=document.createElement("div"),void 0!==e.class?r.setAttribute("class",e.class):r.setAttribute("class","col-sm-10"),d.appendChild(r);for(var m=0;m<e.option.length;m++)(l=document.createElement("div")).setAttribute("class","form-check"),r.appendChild(l),(c=document.createElement("input")).setAttribute("class","form-check-input"),c.type=e.type,c.setAttribute("id",e.name+m),o.push(e.name+m),c.setAttribute("value",e.option[m].value),c.setAttribute("name",e.name),l.appendChild(c),(i=document.createElement("label")).setAttribute("class","form-check-label"),i.setAttribute("for",e.name+m),i.innerHTML=e.option[m].text,l.appendChild(i);document.getElementById(a).appendChild(s);break;case"textarea":(l=document.createElement("div")).setAttribute("class","form-group"),(d=document.createElement("div")).setAttribute("class","row"),l.appendChild(d),(i=document.createElement("label")).setAttribute("class","col-sm-2 col-form-label"),i.setAttribute("for",e.name),void 0!==e.label?i.innerHTML=e.label:i.innerHTML=e.name,d.appendChild(i),r=document.createElement("div"),void 0!==e.class?r.setAttribute("class",e.class):r.setAttribute("class","col-sm-10"),d.appendChild(r);var p=document.createElement("textarea");p.setAttribute("class","form-control"),p.setAttribute("id",e.name),void 0!==e.rows?p.setAttribute("rows",e.rows):p.setAttribute("rows",3),void 0!==e.placeholder&&p.setAttribute("placeholder",e.placeholder),r.appendChild(p),document.getElementById(a).appendChild(l),o.push(e.name);break;case"select":(l=document.createElement("div")).setAttribute("class","form-group"),(d=document.createElement("div")).setAttribute("class","row"),l.appendChild(d),(i=document.createElement("label")).setAttribute("class","col-sm-2 col-form-label"),i.setAttribute("for",e.name),void 0!==e.label?i.innerHTML=e.label:i.innerHTML=e.name,d.appendChild(i),r=document.createElement("div"),void 0!==e.class?r.setAttribute("class",e.class):r.setAttribute("class","col-sm-10"),d.appendChild(r);var b=document.createElement("select");b.setAttribute("id",e.name),b.setAttribute("name",e.name),b.setAttribute("class","form-control select2"),b.setAttribute("onchange",'recursiveInput("'+n+t+'#")'),r.appendChild(b);for(var v=0;v<e.option.length;v++){var y=document.createElement("option");y.setAttribute("value",e.option[v].value),y.innerHTML=e.option[v].text,b.appendChild(y)}document.getElementById(a).appendChild(l),o.push(e.name);var f=document.createElement("div");f.setAttribute("id",e.name+"Response"),document.getElementById(a).appendChild(f)}},window.recursiveInput=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.input,o="",a=dynamicTicketTargetId;if(null!=e){o=e;for(var l=e.split("#"),r=0;r<l.length-1;r++){a=t[l[r]].name,t=t[l[r]].option;for(var d=0,i=0;i<t.length;i++)t[i].value===document.getElementById(a).value&&(d=i);a+="Response",document.getElementById(a).innerHTML="",t=void 0!==t[d].response?t[d].response:null}}else document.getElementById(a).innerHTML="";if(null!=t)for(var c=0;c<t.length;c++)parseInput(t[c],c,o,a)},window.submit=function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":jQuery('meta[name="csrf-token"]').attr("content")}});for(var e={},t=0;t<o.length;t++){var n=document.getElementById(o[t]);if(n)switch(n.type){case"checkbox":case"radio":e[n.value]=!0;break;default:e[o[t]]=n.value}}var a={json_data:JSON.stringify(e),category_id:document.getElementById("categorySelection").value};$.ajax({type:"POST",url:"/dynamicticket/submit",data:a,dataType:"json",success:function(e){o=new Array,recursiveInput()},error:function(e){console.log(e)}})}}});